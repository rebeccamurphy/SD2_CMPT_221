<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.4.1  (Win32)">
	<META NAME="CREATED" CONTENT="20150414;21432588">
	<META NAME="CHANGED" CONTENT="20150414;23062240">
	<STYLE TYPE="text/css">
	<!--
		@page { margin: 0.79in }
		P { margin-bottom: 0.08in }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<P ALIGN=CENTER STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><B>Project
Two - Marist Room Reservation Recorder with Active Status</B></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">Rebecca Murphy</P>
<P STYLE="margin-bottom: 0in">Richard Brown 
</P>
<P STYLE="margin-bottom: 0in">Team #9</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><FONT SIZE=4><B>Introduction</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">In this project, we expanded Project
One to monitor, modify, and maintain active reservation status using
a database.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><FONT SIZE=4><B>Database</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">The database used for this project is
entitled &ldquo;housing_selection&rdquo;.  It is composed of two
tables:</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<OL>
	<LI><P STYLE="margin-bottom: 0in">&ldquo;residence_areas&rdquo;</P>
	<LI><P STYLE="margin-bottom: 0in">&ldquo;reservation&rdquo;</P>
</OL>
<P STYLE="margin-bottom: 0in"> 
</P>
<P STYLE="margin-bottom: 0in">The &ldquo;residence_areas&rdquo; table
contains a list of each housing unit by name (called &ldquo;name&rdquo;).
 Associated with each housing unit is an ID (&ldquo;id&rdquo; -
Primary key) and  the number of housing slots available (&ldquo;slots&rdquo;).</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">The &ldquo;reservation&rdquo; table
holds the working list of housing slots that have been reserved. 
Each reservation (I.e.row) contains an ID (&ldquo;id&rdquo; - Primary
Key) used as the reservation number, the student's name (&ldquo;name&rdquo;),
student ID (&ldquo;cwid&rdquo;), student's gender (&ldquo;gender&rdquo;),
student's class (&ldquo;class&rdquo;), and residence area (&ldquo;ra&rdquo;).</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><FONT SIZE=4><B>Code
&ndash; files and Principles Of Operation for each file</B></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">The code for this Project is composed
of five files:</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<OL>
	<LI><P STYLE="margin-bottom: 0in">&ldquo;footer.php&rdquo;</P>
	<LI><P STYLE="margin-bottom: 0in">&ldquo;connect.php&rdquo;</P>
	<LI><P STYLE="margin-bottom: 0in">&ldquo;page1-rb.php&rdquo;</P>
	<LI><P STYLE="margin-bottom: 0in">&ldquo;page2-rb.php&rdquo;</P>
	<LI><P STYLE="margin-bottom: 0in">&ldquo;page3-rb.php&rdquo;</P>
</OL>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><B>footer.php</B></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">&ldquo;footer.php&rdquo; is a simple
file which inserts a footer at the bottom of each HTML page in this
project.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><B>connect.php</B></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">&ldquo;connect.php&rdquo;  opens the
connection to the &ldquo;housing_selection&rdquo; database for each
HTML page in this project. The user is &ldquo;root&rdquo; and no
password is set.  It will die if a connection cannot be established.</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><B>page1-rb.php</B></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">&ldquo;page1-rb.php&rdquo; gathers the
input from the user. It requests the student's name, CW ID, gender,
class, options (handicap accessible, onsite laundry), Type of
housing, Coed or Non-coed, and displays an options list of Residence
Areas available.  HTML forms are used to collect each of these
inputs.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">Prior to displaying the Residence
Options, the code reads in each entry from the &ldquo;residence_areas&rdquo;
table and checks the number of housing slots available.  If the
number of slots is zero, the option will be grayed out (disabled) in
the Options box.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">The options are captured and sent to
&ldquo;page2-rb.php&rdquo; using the POST method.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><B>page2-rb.php</B></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">&ldquo;page2-rb.php&rdquo; processes
the input from the user, comparing the selections to determine
whether the choices made are valid.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">After establishing a connection to the
database (via &ldquo;connect.php&rdquo;), the code loads in each row
from the &ldquo;residence_areas&rdquo; table.  (Error trapping is
employed should this fail.)  The connection to the database is then
closed.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">The data from &ldquo;page1-rb.php&rdquo;
is then read from the $_POST array and copied into variables for use
on this page, and data is also copied into the $_SESSION array.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">The selections made are then tested to
determine if the choices made by the user were valid via a number of
&ldquo;if&rdquo; trees.  Invalid combinations will set the &ldquo;$valid&rdquo;
variable to false, valid combinations will set it to true.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">The student's information (name, CWID,
class, gender) and choices (Coed, laundry, handicap, housing type,
and &ndash; if given - Residence Hall choice) are displayed.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">If the options are valid AND a valid
Residence Area has been selected, the user has the option of
confirming and going forward (&ldquo;Confirm&rdquo;) or going back if
they wish (&ldquo;Go back&rdquo;).</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">If the options are valid BUT no
Residence Area has been selected, the code will build a list of valid
Residence Area selections based on the student's information and
options via the Switch statement and store this list into $options. 
If $options is empty, the user is informed there are no Residence
Areas available based on their input and are directed back to page 1.
 If $options is not empty, the code will first check the list of
valid Residence Areas to see if a slot is available. If no slots are
available for any of the Residence Areas in the $options array, the
choices will be displayed but are disabled in the selection box. Once
a Residence Area has been selected, the user selects &ldquo;Confirm&rdquo;
and we proceed to page 3.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"> 
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"> 
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#0000ff"><B>page3-rb.php</B></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">&ldquo;page3-rb.php&rdquo; again opens
the connection to the database (&ldquo;connect.php&rdquo;).  It will
then add a new row to the &ldquo;reservation&rdquo; table, saving the
student's information - student's name (&ldquo;name&rdquo;), student
ID (&ldquo;cwid&rdquo;), student's gender (&ldquo;gender&rdquo;),
student's class (&ldquo;class&rdquo;), and residence area (&ldquo;ra&rdquo;).
 An INSERT INTO the &ldquo;reservation&rdquo; table is generated,
using the data passed from page 2 via the $SESSION array.  An ID
(&ldquo;id&rdquo;) is automatically generated by MySQL for each row
inserted [The field was specified as an AUTO INCREMENT Integer, Not
Null, Primary Key, when the &ldquo;reservation&rdquo;table was
constructed.]  This Primary key serves as the student's reservation
number.  This is extracted from the &ldquo;reservation&rdquo; table
via the SELECT id from query, again using the $_SESSION data.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">The code will then decrement the
appropriate slot number in the Residence Area chosen by the user via
the SELECT * FROM query. The selected  Residence Area is passed from
&ldquo;page2-rb.php&rdquo; to &ldquo;page3-rb.php&rdquo; via the
$_SESSION array entry for $residence. The connection to the database
is then closed.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in">The code then displays the student's
reservation number, residence hall preference, name, CWID, gender,
class, Coed option, Lanudry option, handicap option, and housing
type.</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
</BODY>
</HTML>